{"version":3,"file":"TransportWebHID.mjs","sources":["../../../../../../node_modules/.pnpm/@ledgerhq+devices@6.27.1/node_modules/@ledgerhq/devices/lib/hid-framing.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/constants.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/debug.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/re.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/parse-options.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/identifiers.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/classes/semver.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/parse.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/valid.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/clean.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/inc.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/diff.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/major.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/minor.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/patch.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/prerelease.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/compare.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/rcompare.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/compare-loose.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/compare-build.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/sort.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/rsort.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/gt.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/lt.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/eq.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/neq.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/gte.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/lte.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/cmp.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/coerce.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/internal/lrucache.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/classes/range.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/classes/comparator.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/functions/satisfies.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/to-comparators.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/max-satisfying.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/min-satisfying.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/min-version.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/valid.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/outside.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/gtr.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/ltr.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/intersects.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/simplify.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/ranges/subset.js","../../../../../../node_modules/.pnpm/semver@7.6.3/node_modules/semver/index.js","../../../../../../node_modules/.pnpm/@ledgerhq+devices@6.27.1/node_modules/@ledgerhq/devices/lib/index.js","../../../../../../node_modules/.pnpm/@ledgerhq+logs@6.12.0/node_modules/@ledgerhq/logs/lib/index.js","../../../../../../node_modules/.pnpm/@ledgerhq+hw-transport-webhid@6.27.1/node_modules/@ledgerhq/hw-transport-webhid/lib/TransportWebHID.js"],"sourcesContent":null,"names":["exports","__esModule","errors_1","require$$0","initialAcc","data","Buffer","alloc","dataLength","sequence","channel","packetSize","makeBlocks","apdu","value","b","concat","length","writeUInt16BE","blockSize","nbBlocks","Math","ceil","fill","blocks","i","head","writeUInt8","chunk","slice","push","reduceResponse","acc","_a","readUInt16BE","TransportError","readUInt8","chunkData","getReducedResult","constants","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","MAX_SAFE_INTEGER","Number","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","debug_1","process","env","NODE_DEBUG","test","args","console","error","debug","require$$1","re","module","safeRe","src","t","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","name","isGlobal","safe","token","max","split","join","makeSafeRegex","index","RegExp","undefined","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","looseOption","Object","freeze","loose","emptyOpts","parseOptions_1","options","numeric","compareIdentifiers","a","anum","bnum","identifiers","rcompareIdentifiers","require$$2","parseOptions","require$$3","require$$4","semver","SemVer","constructor","version","includePrerelease","TypeError","this","m","trim","match","LOOSE","FULL","raw","major","minor","patch","prerelease","map","id","num","build","format","toString","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","identifierBase","base","Error","isNaN","parse_1","throwErrors","er","parse","valid_1","v","clean_1","s","replace","inc_1","diff_1","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","prefix","major_1","minor_1","patch_1","prerelease_1","parsed","compare_1","rcompare_1","compareLoose_1","compareBuild_1","versionA","versionB","sort_1","list","sort","rsort_1","gt_1","lt_1","eq_1","neq_1","gte_1","lte_1","eq","neq","gt","gte","lt","lte","require$$5","cmp_1","op","coerce_1","String","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","next","exec","lastIndex","lrucache","Map","get","key","delete","set","size","firstKey","keys","SPACE_CHARACTERS","Range","range","Comparator","formatted","r","parseRange","filter","c","first","isNullSet","isAny","comps","k","memoKey","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","rangeList","comp","parseComparator","replaceGTE0","COMPARATORLOOSE","rangeMap","comparators","has","result","values","intersects","some","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","require$$6","remainingComparators","testComparator","pop","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","toLowerCase","replaceTilde","TILDELOOSE","TILDE","_","M","p","pr","ret","replaceCaret","CARETLOOSE","CARET","z","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","ANY","allowed","Symbol","operator","COMPARATOR","cmp","startsWith","includes","comparator","satisfies_1","toComparators_1","maxSatisfying_1","versions","maxSV","rangeObj","forEach","minSatisfying_1","min","minSV","minVersion_1","minver","setMin","compver","valid","satisfies","require$$7","outside_1","hilo","gtfn","ltefn","ltfn","ecomp","high","low","outside","gtr_1","ltr_1","intersects_1","r1","r2","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","Set","gtltComp","higher","lower","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","subset_1","sawNonNull","OUTER","simpleSub","simpleDom","isSub","internalRe","simplifyRange","prev","ranges","simplified","original","clean","diff","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","rcompare","require$$14","compareLoose","require$$15","require$$16","require$$17","rsort","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","coerce","require$$26","require$$27","require$$28","require$$29","toComparators","require$$30","maxSatisfying","require$$31","minSatisfying","require$$32","minVersion","require$$33","validRange","require$$34","require$$35","gtr","require$$36","ltr","require$$37","require$$38","subset","require$$40","tokens","__assign","assign","n","arguments","prototype","hasOwnProperty","call","apply","__importDefault","mod","default","getInfosForServiceUuid","getBluetoothServiceUuids","identifyProductName","identifyUSBProductId","identifyTargetId","ledgerUSBVendorId","DeviceModelId","IIWebUSB","IICCID","IIU2F","IIKeyboardHID","IIGenericHID","semver_1","devices","blue","productName","productIdMM","legacyUsbProductId","usbOnly","memorySize","masks","getBlockSize","_firwareVersion","nanoS","firmwareVersion","nanoSP","_firmwareVersion","nanoX","bluetoothSpec","serviceUuid","notifyUuid","writeUuid","writeCmdUuid","nanoFTS","productMap","Blue","devicesList","getDeviceModel","info","targetId","deviceModel","find","mask","usbProductId","legacy","d","mm","bluetoothServices","serviceUuidToInfos","spec","uuid","defineProperty","listen","LocalTracer","trace","log","subscribers","type","message","obj","date","Date","dispatch","context","getContext","setContext","updateContext","contextToAdd","getType","setType","withType","withContext","withUpdatedContext","e","cb","indexOf","extendStatics","__extends","setPrototypeOf","__proto__","Array","__","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","rejected","done","then","__generator","body","f","y","g","label","sent","trys","ops","verb","throw","return","iterator","__read","o","ar","hw_transport_1","hid_framing_1","devices_1","logs_1","ledgerDevices","vendorId","isSupported","window","navigator","hid","getHID","requestLedgerDevices","device","requestDevice","filters","isArray","getLedgerDevices","getDevices","TransportWebHID","_super","_this","floor","random","inputs","read","shift","success","inputCallback","onInputReport","buffer","_disconnectEmitted","_emitDisconnect","emit","exchange","exchangeAtomicImpl","framing","_b","sendReport","DisconnectedDeviceDuringOperation","productId","addEventListener","request","open","openConnected","transport","onDisconnect","removeEventListener","DisconnectedDevice","close","exchangeBusyPromise","setScrambleKey","observer","unsubscribed","existingDevices","getFirstLedgerDevice","descriptor","complete","TransportOpenUserCancelled","unsubscribe"],"mappings":"","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]}